webpackJsonp([22],{"2/fP":function(t,n,i){var e=i("YIyT");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("rjj0")("56c5683c",e,!0)},FL4j:function(t,n,i){"use strict";function e(t){i("2/fP")}Object.defineProperty(n,"__esModule",{value:!0});var o=i("2sLL"),r=i("gyMJ"),a={data:function(){return{lotteryState:0,isJoin:!1,joinLoading:!1,joinTimer:null}},created:function(){this.loopCanJoin(0)},methods:{loopCanJoin:function(t){var n=this;if(!this.$route.query.id)return clearTimeout(this.joinTimer),this.joinTimer=null,!1;this.joinTimer=setTimeout(function(){Object(r.k)({ht_id:n.$route.query.id}).then(function(t){console.log(t),"活动已结束"===t.result?n.lotteryState=0:"允许报名"===t.result?n.lotteryState=1:"您已报过名"===t.result&&(n.lotteryState=1,n.isJoin=!0)}).finally(function(){if(!n.deleteTimer)return!1;clearTimeout(n.deleteTimer),n.loopCanJoin(2e3)})},t)},join:function(){var t=this;this.joinLoading=!0,Object(r._17)({ht_id:this.$route.query.id}).then(function(n){t.isJoin=!0}).finally(function(){t.joinLoading=!1})},backTobar:function(){1==~~window.sessionStorage.getItem("count")?this.$router.replace("/Main/"+this.$route.query.id):this.$router.go(-1)}},components:{XButton:o.a}},d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"container tc"},[e("img",{attrs:{src:i("X/YU"),id:"lottery-img"}}),t._v(" "),0==t.lotteryState?e("p",{staticClass:"tip fff-bp"},[t._v("当前无抽奖活动")]):t._e(),t._v(" "),1==t.lotteryState?e("p",{staticClass:"tip fff-bp"},[t._v("抽奖活动火热进行中...")]):t._e(),t._v(" "),t.isJoin?e("x-button",{attrs:{id:"lottery-btn",gradients:["#ffdb69","#ffdb69"],disabled:!0}},[t._v("你已参加")]):e("x-button",{attrs:{id:"lottery-btn",gradients:["#ffdb69","#ffdb69"],disabled:t.joinLoading,"show-loading":t.joinLoading},nativeOn:{click:function(n){t.join(n)}}},[t._v("立即参与抽奖")]),t._v(" "),e("x-button",{attrs:{id:"back-bar-btn",gradients:["transparent","transparent"]},nativeOn:{click:function(n){t.backTobar(n)}}},[t._v("返回酒吧")])],1)},s=[],c={render:d,staticRenderFns:s},l=c,u=i("VU/8"),p=e,A=u(a,l,!1,p,"data-v-425e6808",null);n.default=A.exports},"X/YU":function(t,n,i){t.exports=i.p+"static/img/chou.952e752.png"},YIyT:function(t,n,i){n=t.exports=i("FZ+f")(!0),n.push([t.i,"\n.container[data-v-425e6808] {\n  background: -webkit-linear-gradient(top, #3d2b4a 70%, #5a3150);\n  background: linear-gradient(to bottom, #3d2b4a 70%, #5a3150);\n}\n#lottery-img[data-v-425e6808] {\n  width: 100%;\n  margin-top: 10px;\n}\n.tip[data-v-425e6808] {\n  display: inline-block;\n  padding: 2px 20px;\n  border: 1px solid #fff;\n  border-radius: 20px;\n  margin-top: 0.6rem;\n}\n#lottery-btn[data-v-425e6808] {\n  width: 4.76rem;\n  border-radius: 20px;\n  margin-top: 1.8rem;\n  color: #fc3c37!important;\n}\n#back-bar-btn[data-v-425e6808] {\n  width: 4.76rem;\n  border-radius: 20px;\n  border: 1px solid #fff;\n  margin-top: 20px;\n}\n","",{version:3,sources:["G:/projects/nbbp2.0.git/src/pages/Lottery.vue"],names:[],mappings:";AACA;EACE,+DAA+D;EAC/D,6DAA6D;CAC9D;AACD;EACE,YAAY;EACZ,iBAAiB;CAClB;AACD;EACE,sBAAsB;EACtB,kBAAkB;EAClB,uBAAuB;EACvB,oBAAoB;EACpB,mBAAmB;CACpB;AACD;EACE,eAAe;EACf,oBAAoB;EACpB,mBAAmB;EACnB,yBAAyB;CAC1B;AACD;EACE,eAAe;EACf,oBAAoB;EACpB,uBAAuB;EACvB,iBAAiB;CAClB",file:"Lottery.vue",sourcesContent:["\n.container[data-v-425e6808] {\n  background: -webkit-linear-gradient(top, #3d2b4a 70%, #5a3150);\n  background: linear-gradient(to bottom, #3d2b4a 70%, #5a3150);\n}\n#lottery-img[data-v-425e6808] {\n  width: 100%;\n  margin-top: 10px;\n}\n.tip[data-v-425e6808] {\n  display: inline-block;\n  padding: 2px 20px;\n  border: 1px solid #fff;\n  border-radius: 20px;\n  margin-top: 0.6rem;\n}\n#lottery-btn[data-v-425e6808] {\n  width: 4.76rem;\n  border-radius: 20px;\n  margin-top: 1.8rem;\n  color: #fc3c37!important;\n}\n#back-bar-btn[data-v-425e6808] {\n  width: 4.76rem;\n  border-radius: 20px;\n  border: 1px solid #fff;\n  margin-top: 20px;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=22.6ffa8923017f96ed0d40.js.map