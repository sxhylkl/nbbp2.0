webpackJsonp([17],{"3k7d":function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,'\n.tab-wrap[data-v-e8073a88] {\n  margin-bottom: 10px;\n}\n.tab[data-v-e8073a88] {\n  display: block;\n  height: 44px;\n  line-height: 44px;\n  background-color: #fff;\n  text-align: center;\n  position: relative;\n}\n.tab.active[data-v-e8073a88]:before {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 15%;\n  right: 15%;\n  border-bottom: 2px solid #58a9ff;\n}\n.tab[data-v-e8073a88]:not(:last-child):after {\n  position: absolute;\n  right: 0;\n  top: 0;\n  height: 100%;\n  border-right: 1px solid #f2f2f2;\n  content: "";\n}\n.container[data-v-e8073a88] {\n  overflow: hidden;\n}\n.container[data-v-e8073a88] .bg-item {\n  padding: 10px 15px;\n  background-color: #fff;\n  position: relative;\n}\n.container[data-v-e8073a88] .bg-item:not(:last-child)::after {\n  content: "";\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  border-bottom: 1px solid #f2f2f2;\n}\n.container[data-v-e8073a88] .bg-icon img,\n.container[data-v-e8073a88] .bg-icon video {\n  display: block;\n  width: 180px;\n  height: 108px;\n}\n.scroller-bg[data-v-e8073a88] {\n  position: absolute;\n  top: 54px;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n  background-color: #fff;\n}\n',""])},SDRP:function(e,t,n){t=e.exports=n("FZ+f")(!1),t.push([e.i,"\n.place-play-video[data-v-b07b4edc] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 180px;\n  height: 108px;\n  background-color: #000000;\n  z-index: 99;\n  color: #fff;\n}\n.place-play-video .svg-icon[data-v-b07b4edc] {\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  margin-left: -20px;\n  margin-top: -20px;\n}\n",""])},W89K:function(e,t,n){var i=n("3k7d");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("0689af84",i,!0)},rPzG:function(e,t,n){"use strict";function i(e){n("yVdM")}function a(e){n("W89K")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("/0UN"),s=n("hGvq"),c=n("EmH9"),l={props:["selected","list","type"],data:function(){return{select:-1,last:-1}},watch:{selected:function(e,t){this.select=e}},methods:{onClick:function(e,t){this.select!==e&&(this.select=e,this.$emit("on-select",e))},showVideo:function(e){-1!==this.last&&this.$refs["video"+this.last][0].pause(),this.$refs["video"+e][0].play(),this.last=e},previewImage:function(e){this.$wechat.previewImage({current:e,urls:[e]})}},components:{Checker:o.a,CheckerItem:s.a,CheckIcon:c.a}},r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scroller-bg"},[n("checker",{attrs:{"radio-required":"","selected-item-class":"bg-item-selected"},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[e._l(e.list,function(t,i){return[n("div",{key:i,staticClass:"flex flex-align-center bg-item"},[n("div",{staticClass:"bg-icon flex flex-1 pr"},[1==e.type?n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$options.filters.prefixImageUrl(t.url),expression:"$options.filters.prefixImageUrl(v.url)"}],on:{click:function(n){e.previewImage(e.$options.filters.prefixImageUrl(t.url))}}}):e._e(),e._v(" "),2==e.type?n("video",{ref:"video"+i,refInFor:!0,attrs:{src:e._f("prefixImageUrl")(t.url),"webkit-playsinline":"true","x-webkit-airplay":"true",playsinline:"true",controls:"true"}}):e._e(),e._v(" "),2==e.type?n("div",{directives:[{name:"show",rawName:"v-show",value:e.last!=i,expression:"last != i"}],staticClass:"place-play-video",on:{click:function(t){t.preventDefault(),e.showVideo(i)}}},[n("svg-icon",{attrs:{"icon-class":"play"}})],1):e._e()]),e._v(" "),n("checker-item",{attrs:{value:i},on:{"on-item-click":e.onClick}},[n("div",{staticClass:"bg-check"},[n("check-icon",{attrs:{value:e.select==i,type:"plain"}})],1)])],1)]})],2)],1)},d=[],p={render:r,staticRenderFns:d},f=p,u=n("VU/8"),v=i,h=u(l,f,!1,v,"data-v-b07b4edc",null),g=h.exports,b=n("gyMJ"),m={name:"BgSetting",components:{BgList:g},beforeRouteEnter:function(e,t,n){document.title="背景设置",n()},data:function(){return{imageSelected:-1,images:[],activeType:2,videoSelected:-1,videos:[]}},created:function(){var e=this,t=-1;Object(b.E)({ht_id:this.$route.query.id,type:2}).then(function(n){n.result.ht_selected&&(t=n.result.default.findIndex(function(e){return~~e.id==~~n.result.ht_selected.id}))>-1&&(e.videoSelected=t),e.videos=n.result.default}),Object(b.E)({ht_id:this.$route.query.id,type:1}).then(function(n){n.result.ht_selected&&(t=n.result.default.findIndex(function(e){return~~e.id==~~n.result.ht_selected.pic_id}))>-1&&(e.imageSelected=t),e.images=n.result.default})},mounted:function(){},methods:{setBgCheck:function(e){var t=1===this.activeType?this.images[e].id:this.videos[e].fid;Object(b._31)({ht_id:this.$route.query.id,type:this.activeType,background_id:t}).then(function(e){console.log(e)})}},watch:{activeType:function(e,t){var n=this;1===e&&this.$nextTick(function(){n.$Lazyload.lazyLoadHandler()})}}},y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container min-h"},[n("div",{staticClass:"flex tab-wrap"},[n("a",{staticClass:"flex-1 tab",class:{active:2==e.activeType},on:{click:function(t){t.preventDefault(),e.activeType=2}}},[e._v("视频背景")]),e._v(" "),n("a",{staticClass:"flex-1 tab",class:{active:1==e.activeType},on:{click:function(t){t.preventDefault(),e.activeType=1}}},[e._v("图片背景")])]),e._v(" "),n("bg-list",{directives:[{name:"show",rawName:"v-show",value:2==e.activeType,expression:"activeType== 2"}],attrs:{type:2,selected:e.videoSelected,list:e.videos},on:{"on-select":e.setBgCheck}}),e._v(" "),n("bg-list",{directives:[{name:"show",rawName:"v-show",value:1==e.activeType,expression:"activeType== 1"}],attrs:{type:1,selected:e.imageSelected,list:e.images},on:{"on-select":e.setBgCheck}})],1)},x=[],k={render:y,staticRenderFns:x},w=k,_=n("VU/8"),C=a,$=_(m,w,!1,C,"data-v-e8073a88",null);t.default=$.exports},yVdM:function(e,t,n){var i=n("SDRP");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("3fc102ab",i,!0)}});