webpackJsonp([29],{"4LZu":function(e,a,t){a=e.exports=t("FZ+f")(!0),a.push([e.i,"\n.coin-color[data-v-6b034807] {\n  color: #f8c21a;\n}\n.charge-header[data-v-6b034807] {\n  padding: 0.36rem 0.3rem;\n}\n.charge-header .u-avatar img[data-v-6b034807] {\n  width: 1rem;\n  height: 1rem;\n}\n.charge-header .u-middle[data-v-6b034807] {\n  margin-left: 20px;\n}\n.charge-container[data-v-6b034807] {\n  padding: 0.5rem 0.6rem;\n}\n.charge-container .charge-tab[data-v-6b034807] {\n  margin-bottom: 0.6rem;\n}\n.charge-container .charge-tab .ct[data-v-6b034807] {\n  padding: 4px 6px;\n}\n","",{version:3,sources:["G:/projects/nbbp2.0.git/src/pages/Charge.vue"],names:[],mappings:";AACA;EACE,eAAe;CAChB;AACD;EACE,wBAAwB;CACzB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,kBAAkB;CACnB;AACD;EACE,uBAAuB;CACxB;AACD;EACE,sBAAsB;CACvB;AACD;EACE,iBAAiB;CAClB",file:"Charge.vue",sourcesContent:["\n.coin-color[data-v-6b034807] {\n  color: #f8c21a;\n}\n.charge-header[data-v-6b034807] {\n  padding: 0.36rem 0.3rem;\n}\n.charge-header .u-avatar img[data-v-6b034807] {\n  width: 1rem;\n  height: 1rem;\n}\n.charge-header .u-middle[data-v-6b034807] {\n  margin-left: 20px;\n}\n.charge-container[data-v-6b034807] {\n  padding: 0.5rem 0.6rem;\n}\n.charge-container .charge-tab[data-v-6b034807] {\n  margin-bottom: 0.6rem;\n}\n.charge-container .charge-tab .ct[data-v-6b034807] {\n  padding: 4px 6px;\n}\n"],sourceRoot:""}])},L2GU:function(e,a,t){"use strict";function n(e){t("qwdZ")}Object.defineProperty(a,"__esModule",{value:!0});var i=t("mvHQ"),r=t.n(i),s=t("Dd8w"),c=t.n(s),o=t("2sLL"),d=t("gyMJ"),l=t("NYxO"),u=t("jNHQ"),g={data:function(){return{bpValueIndex:-1,userInfo:{},exps:[],loading:!1,loadingPrice:!1}},beforeRouteEnter:function(e,a,t){document.title="我的账户",t()},created:function(){this.getData()},components:{XButton:o.a,Charge:u.a},methods:c()({},Object(l.b)("user",["getUserInfo"]),{setSelect:function(e){this.bpValueIndex=e},getData:function(){var e=this;this.loadingPrice=!0,Object(d.G)().then(function(a){e.userInfo=a.result.user,e.exps=a.result.exp}).finally(function(){e.$vux.loading.hide(),e.loadingPrice=!1})},requestPay:function(){var e=this,a=this;if(-1===this.bpValueIndex)return this.$vux.toast.show({text:"请选择金额支付"}),!1;this.loading=!0,Object(d._21)({eid:this.exps[this.bpValueIndex].id,money:this.exps[this.bpValueIndex].money,pay_type:1,source_type:5}).then(function(e){window.WeixinJSBridge&&window.WeixinJSBridge.invoke("getBrandWCPayRequest",e.result,function(e){switch(e.err_msg){case"get_brand_wcpay_request:cancel":break;case"get_brand_wcpay_request:fail":a.$vux.toast.show({text:"支付失败！（"+e.err_desc+"）",width:"10em"});break;case"get_brand_wcpay_request:ok":a.$vux.toast.show({text:"支付成功"}),setTimeout(function(){"1"===localStorage.getItem("payBack")?(localStorage.removeItem("payBack"),a.getUserInfo().then(function(e){window.history.go(-1)})):a.getData()},500);break;default:alert(r()(e))}})}).finally(function(){e.loading=!1})}})},v=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container min-h bg2"},[t("div",{staticClass:"charge-header bg1 flex flex-align-center"},[t("div",{staticClass:"u-avatar"},[t("img",{staticClass:"circle",attrs:{src:e._f("prefixImageUrl")(e.userInfo.headimgurl)}})]),e._v(" "),t("div",{staticClass:"flex flex-v flex-pack-center flex-1 u-middle"},[t("p",{staticClass:"f16 uanme overflow fff-bp"},[e._v(e._s(e.userInfo.nickname))]),e._v(" "),t("p",{staticClass:"f12 coin-tip darker1"},[t("span",{staticClass:"ver-mid"},[e._v("已拥有的牛角币")]),t("svg-icon",{attrs:{"icon-class":"coin",className:"f14 ml4"}})],1)]),e._v(" "),t("div",{staticClass:"coin-color",staticStyle:{"font-size":"24px"}},[e._v(e._s(e.userInfo.balance))])]),e._v(" "),t("div",{staticClass:"charge-container"},[t("div",{staticClass:"charge-tab"},[t("span",{staticClass:"ct ncolor"},[e._v("充值购买")]),e._v(" "),t("span",{staticClass:"ct darker1",on:{click:function(a){e.$router.push({path:"/Detail"})}}},[e._v("充值详情")])]),e._v(" "),t("charge",{attrs:{exps:e.exps,loading:e.loadingPrice},on:{onSelect:e.setSelect}}),e._v(" "),t("x-button",{staticStyle:{"margin-top":"25px"},attrs:{"show-loading":e.loading,disabled:e.loading,gradients:["#f31374","#f31374"]},nativeOn:{click:function(a){e.requestPay(a)}}},[e._v("确认支付")]),e._v(" "),t("p",{staticClass:"darker1 f12",staticStyle:{"margin-top":"10px"}},[e._v("充值说明：")]),e._v(" "),e._m(0)],1)])},h=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ul",{staticClass:"darker1 f12"},[t("li",[e._v("1、充值即拥有牛霸贵族会员尊贵身份")]),e._v(" "),t("li",[e._v("1、1牛角=1元人民币")]),e._v(" "),t("li",[e._v("2、充值的牛角只能消费，不能提现")]),e._v(" "),t("li",[e._v("4、充值赠送的经验值用于贵族等级升级")])])}],f={render:v,staticRenderFns:h},p=f,m=t("VU/8"),b=n,C=m(g,p,!1,b,"data-v-6b034807",null);a.default=C.exports},qwdZ:function(e,a,t){var n=t("4LZu");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("6465ab7d",n,!0)}});
//# sourceMappingURL=29.d149fbac80a80ef4394b.js.map