{"version":3,"sources":["webpack:///static/js/19.95c8b0fc9374546d580f.js","webpack:///./src/pages/BasicBusiness.vue?3858","webpack:///./src/pages/BasicBusiness.vue","webpack:///./src/pages/BasicBusiness.vue?13c3","webpack:///./src/pages/BasicBusiness.vue?53e6","webpack:///./src/pages/BasicBusiness.vue?3419"],"names":["webpackJsonp","0L4D","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Object","defineProperty","value","object_assign","assign_default","n","x_input","group","cell","x_button","Upload","logo","logo_default","utils","api","BasicBusiness","name","components","XInput","Group","Cell","XButton","beforeRouteEnter","to","from","next","document","title","data","mapVisible","mapLoad","defaultLogo","a","showLogo","loading","form","id","this","$route","params","address","locationLng","locationLat","province_name","city_name","area_name","created","_this","ht_id","then","res","result","mounted","getElementById","style","width","window","innerWidth","height","innerHeight","addEventListener","onSelectAddress","beforeDestroy","removeEventListener","methods","updateInfo","_this2","$vux","toast","show","text","finally","logoUploadPreview","base64","console","log","e","type","JSON","parse","o","point","lng","lat","addressComponents","province","city","district","showMap","_this3","setTimeout","src","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","on-preview","_v","for","label-width","label-margin-right","label-align","model","callback","$$v","$set","expression","is-link","value-align","nativeOn","click","$event","gradients","show-loading","directives","rawName","staticStyle","background-color","frameborder","allowTransparency","staticRenderFns","esExports","pages_BasicBusiness","normalizeComponent","__vue_styles__","Component","CKzy","exports","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","gyFj","content","locals"],"mappings":"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","file":"static/js/19.95c8b0fc9374546d580f.js","sourcesContent":["webpackJsonp([19],{\n\n/***/ \"0L4D\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/babel-runtime/core-js/object/assign.js\nvar object_assign = __webpack_require__(\"woOf\");\nvar assign_default = /*#__PURE__*/__webpack_require__.n(object_assign);\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/x-input/index.vue + 3 modules\nvar x_input = __webpack_require__(\"pDNl\");\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/group/index.vue + 2 modules\nvar group = __webpack_require__(\"rHil\");\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/cell/index.vue + 4 modules\nvar cell = __webpack_require__(\"1DHf\");\n\n// EXTERNAL MODULE: ./node_modules/vux/src/components/x-button/index.vue + 2 modules\nvar x_button = __webpack_require__(\"2sLL\");\n\n// EXTERNAL MODULE: ./src/components/Upload.vue + 5 modules\nvar Upload = __webpack_require__(\"jd+X\");\n\n// EXTERNAL MODULE: ./src/assets/logo.png\nvar logo = __webpack_require__(\"7Otq\");\nvar logo_default = /*#__PURE__*/__webpack_require__.n(logo);\n\n// EXTERNAL MODULE: ./src/utils/utils.js\nvar utils = __webpack_require__(\"oAV5\");\n\n// EXTERNAL MODULE: ./src/api/index.js + 1 modules\nvar api = __webpack_require__(\"gyMJ\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vux-loader/src/script-loader.js!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/pages/BasicBusiness.vue\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ var BasicBusiness = ({\n  name: 'BasicBusiness',\n  components: {\n    XInput: x_input[\"a\" /* default */],\n    Group: group[\"a\" /* default */],\n    Cell: cell[\"a\" /* default */],\n    XButton: x_button[\"a\" /* default */],\n    Upload: Upload[\"a\" /* default */]\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    document.title = '基础信息';\n    next();\n  },\n  data: function data() {\n    return {\n      mapVisible: false,\n      mapLoad: false,\n      defaultLogo: logo_default.a,\n      showLogo: '',\n      loading: false,\n      form: {\n        id: this.$route.params.id ? this.$route.params.id : '',\n        name: '',\n        logo: '',\n        address: '',\n        locationLng: '',\n        locationLat: '',\n        province_name: '',\n        city_name: '',\n        area_name: ''\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    Object(api[\"i\" /* getBarInfo */])({ ht_id: this.$route.params.id }).then(function (res) {\n      _this.form = res.result;\n      _this.showLogo = Object(utils[\"e\" /* prefixImageUrl */])(res.result.logo);\n    });\n  },\n  mounted: function mounted() {\n    document.getElementById('iframe').style.width = window.innerWidth + 'px';\n    document.getElementById('iframe').style.height = window.innerHeight + 'px';\n    window.addEventListener('message', this.onSelectAddress, false);\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('message', this.onSelectAddress, false);\n  },\n\n  methods: {\n    updateInfo: function updateInfo() {\n      var _this2 = this;\n\n      if (this.form.name === '') {\n        this.$vux.toast.show({\n          text: '酒吧名称不能为空'\n        });\n        return;\n      }\n      this.loading = true;\n      Object(api[\"B\" /* updateBarInfo */])(this.form).then(function (res) {\n        _this2.$vux.toast.show({\n          text: '修改成功'\n        });\n      }).finally(function () {\n        _this2.loading = false;\n      });\n    },\n    logoUploadPreview: function logoUploadPreview(base64) {\n      console.log(base64);\n      this.form.logo = base64;\n      this.showLogo = Object(utils[\"e\" /* prefixImageUrl */])(base64);\n    },\n    onSelectAddress: function onSelectAddress(e) {\n      if (!e.data.type) {\n        var res = JSON.parse(e.data);\n        var o = {\n          address: res.address,\n          locationLng: res.point.lng,\n          locationLat: res.point.lat,\n          province_name: res.addressComponents.province,\n          city_name: res.addressComponents.city,\n          area_name: res.addressComponents.district\n        };\n        this.form = assign_default()({}, this.form, o);\n        this.mapVisible = false;\n        console.log(e.data);\n      }\n    },\n    showMap: function showMap() {\n      var _this3 = this;\n\n      this.mapVisible = true;\n      if (this.mapLoad) {\n        return;\n      }\n      setTimeout(function () {\n\n        document.getElementById('iframe').src = '/dist/map/index.html';\n        _this3.mapLoad = true;\n      }, 300);\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64a68d86\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/BasicBusiness.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container min-h\"},[_c('div',{staticClass:\"inner\"},[_c('div',{staticClass:\"top flex flex-v flex-align-center\"},[_c('upload',{staticClass:\"pr\",attrs:{\"name\":\"upload-logo\"},on:{\"on-preview\":_vm.logoUploadPreview}},[_c('img',{staticClass:\"circle\",attrs:{\"src\":_vm.showLogo ? _vm.showLogo : _vm.defaultLogo}}),_vm._v(\" \"),_c('label',{staticClass:\"n-label\",attrs:{\"for\":\"upload-logo\"}})]),_vm._v(\" \"),_c('p',[_vm._v(\"酒吧logo，将展示在二维码、酒吧首页上\")])],1),_vm._v(\" \"),_c('group',{attrs:{\"label-width\":\"4.5em\",\"label-margin-right\":\"2em\",\"label-align\":\"right\"}},[_c('x-input',{attrs:{\"title\":\"昵&emsp;&emsp;称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"酒吧地址\",\"value\":_vm.form.address,\"is-link\":\"\",\"value-align\":\"left\"},nativeOn:{\"click\":function($event){_vm.showMap($event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom_abs\"},[_c('x-button',{attrs:{\"gradients\":['#1D62F0', '#1D62F0'],\"show-loading\":_vm.loading},nativeOn:{\"click\":function($event){_vm.updateInfo($event)}}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mapVisible),expression:\"mapVisible\"}],staticStyle:{\"background-color\":\"#fff\"},attrs:{\"src\":\"\",\"id\":\"iframe\",\"frameborder\":\"0\",\"allowTransparency\":\"true\"}})])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var pages_BasicBusiness = (esExports);\n// CONCATENATED MODULE: ./src/pages/BasicBusiness.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"gyFj\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-64a68d86\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  BasicBusiness,\n  pages_BasicBusiness,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_pages_BasicBusiness = __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"CKzy\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\\n.top[data-v-64a68d86] {\\n  padding: 15px 0;\\n}\\n.top img[data-v-64a68d86] {\\n  width: 60px;\\n  height: 60px;\\n}\\n.top p[data-v-64a68d86] {\\n  font-size: 12px;\\n}\\n#iframe[data-v-64a68d86] {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: 1;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/Sites/nbbp2.0.git/src/pages/BasicBusiness.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;EAChB,OAAO;EACP,SAAS;EACT,UAAU;EACV,QAAQ;EACR,WAAW;CACZ\",\"file\":\"BasicBusiness.vue\",\"sourcesContent\":[\"\\n.top[data-v-64a68d86] {\\n  padding: 15px 0;\\n}\\n.top img[data-v-64a68d86] {\\n  width: 60px;\\n  height: 60px;\\n}\\n.top p[data-v-64a68d86] {\\n  font-size: 12px;\\n}\\n#iframe[data-v-64a68d86] {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"gyFj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"CKzy\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"7fbecf72\", content, true);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/19.95c8b0fc9374546d580f.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64a68d86\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vux-loader/src/after-less-loader.js!less-loader?{'modifyVars':{},'sourceMap':true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BasicBusiness.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BasicBusiness.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vux-loader/src/script-loader.js!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BasicBusiness.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-64a68d86\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../node_modules/vux-loader/src/template-loader.js!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BasicBusiness.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-64a68d86\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/BasicBusiness.vue\n// module id = null\n// module chunks = ","\nimport XInput from 'vux/src/components/x-input/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\n\nimport Upload from '../components/Upload'\nimport defaultLogo from '../assets/logo.png'\nimport { prefixImageUrl } from '@/utils/utils'\nimport { updateBarInfo, getBarInfo } from '@/api/'\nexport default {\nname: 'BasicBusiness',\ncomponents: {\nXInput,\nGroup,\nCell,\nXButton,\nUpload\n},\nbeforeRouteEnter (to, from, next) {\ndocument.title = '基础信息'\nnext()\n},\ndata () {\nreturn {\nmapVisible: false,\nmapLoad: false,\ndefaultLogo: defaultLogo,\nshowLogo: '',\nloading: false,\nform: {\nid: this.$route.params.id ? this.$route.params.id : '',\nname: '',\nlogo: '',\naddress: '',\nlocationLng: '',\nlocationLat: '',\nprovince_name: '',\ncity_name: '',\narea_name: ''\n}\n}\n},\ncreated () {\ngetBarInfo({ht_id: this.$route.params.id}).then((res) => {\nthis.form = res.result\nthis.showLogo = prefixImageUrl(res.result.logo)\n})\n},\nmounted () {\ndocument.getElementById('iframe').style.width = window.innerWidth + 'px'\ndocument.getElementById('iframe').style.height = window.innerHeight + 'px'\nwindow.addEventListener('message', this.onSelectAddress, false)\n},\nbeforeDestroy () {\nwindow.removeEventListener('message', this.onSelectAddress, false)\n},\nmethods: {\nupdateInfo () {\nif (this.form.name === '') {\nthis.$vux.toast.show({\ntext: '酒吧名称不能为空'\n})\nreturn\n}\nthis.loading = true\nupdateBarInfo(this.form).then((res) => {\nthis.$vux.toast.show({\ntext: '修改成功'\n})\n}).finally(() => {\nthis.loading = false\n})\n},\nlogoUploadPreview (base64) {\nconsole.log(base64)\nthis.form.logo = base64\nthis.showLogo = prefixImageUrl(base64)\n},\nonSelectAddress (e) {\nif (!e.data.type) {\nconst res = JSON.parse(e.data)\nconst o = {\naddress: res.address,\nlocationLng: res.point.lng,\nlocationLat: res.point.lat,\nprovince_name: res.addressComponents.province,\ncity_name: res.addressComponents.city,\narea_name: res.addressComponents.district\n}\nthis.form = Object.assign({}, this.form, o)\nthis.mapVisible = false\nconsole.log(e.data)\n}\n},\nshowMap () {\nthis.mapVisible = true\nif (this.mapLoad) {\nreturn\n}\nsetTimeout(() => {\n\ndocument.getElementById('iframe').src = '/dist/map/index.html'\nthis.mapLoad = true\n}, 300)\n}\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/BasicBusiness.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container min-h\"},[_c('div',{staticClass:\"inner\"},[_c('div',{staticClass:\"top flex flex-v flex-align-center\"},[_c('upload',{staticClass:\"pr\",attrs:{\"name\":\"upload-logo\"},on:{\"on-preview\":_vm.logoUploadPreview}},[_c('img',{staticClass:\"circle\",attrs:{\"src\":_vm.showLogo ? _vm.showLogo : _vm.defaultLogo}}),_vm._v(\" \"),_c('label',{staticClass:\"n-label\",attrs:{\"for\":\"upload-logo\"}})]),_vm._v(\" \"),_c('p',[_vm._v(\"酒吧logo，将展示在二维码、酒吧首页上\")])],1),_vm._v(\" \"),_c('group',{attrs:{\"label-width\":\"4.5em\",\"label-margin-right\":\"2em\",\"label-align\":\"right\"}},[_c('x-input',{attrs:{\"title\":\"昵&emsp;&emsp;称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}}),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"酒吧地址\",\"value\":_vm.form.address,\"is-link\":\"\",\"value-align\":\"left\"},nativeOn:{\"click\":function($event){_vm.showMap($event)}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"bottom_abs\"},[_c('x-button',{attrs:{\"gradients\":['#1D62F0', '#1D62F0'],\"show-loading\":_vm.loading},nativeOn:{\"click\":function($event){_vm.updateInfo($event)}}},[_vm._v(\"保存\")])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slide-fade\"}},[_c('iframe',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mapVisible),expression:\"mapVisible\"}],staticStyle:{\"background-color\":\"#fff\"},attrs:{\"src\":\"\",\"id\":\"iframe\",\"frameborder\":\"0\",\"allowTransparency\":\"true\"}})])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-64a68d86\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/BasicBusiness.vue\n// module id = null\n// module chunks = ","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.top[data-v-64a68d86] {\\n  padding: 15px 0;\\n}\\n.top img[data-v-64a68d86] {\\n  width: 60px;\\n  height: 60px;\\n}\\n.top p[data-v-64a68d86] {\\n  font-size: 12px;\\n}\\n#iframe[data-v-64a68d86] {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: 1;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"E:/Sites/nbbp2.0.git/src/pages/BasicBusiness.vue\"],\"names\":[],\"mappings\":\";AACA;EACE,gBAAgB;CACjB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,gBAAgB;CACjB;AACD;EACE,gBAAgB;EAChB,OAAO;EACP,SAAS;EACT,UAAU;EACV,QAAQ;EACR,WAAW;CACZ\",\"file\":\"BasicBusiness.vue\",\"sourcesContent\":[\"\\n.top[data-v-64a68d86] {\\n  padding: 15px 0;\\n}\\n.top img[data-v-64a68d86] {\\n  width: 60px;\\n  height: 60px;\\n}\\n.top p[data-v-64a68d86] {\\n  font-size: 12px;\\n}\\n#iframe[data-v-64a68d86] {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: 1;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-64a68d86\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/dist/cjs.js?{'modifyVars':{},'sourceMap':true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/BasicBusiness.vue\n// module id = CKzy\n// module chunks = 19","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-64a68d86\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vux-loader/src/after-less-loader.js!../../node_modules/less-loader/dist/cjs.js?{'modifyVars':{},'sourceMap':true}!../../node_modules/vux-loader/src/style-loader.js!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./BasicBusiness.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"7fbecf72\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-64a68d86\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/vux-loader/src/after-less-loader.js!./node_modules/less-loader/dist/cjs.js?{'modifyVars':{},'sourceMap':true}!./node_modules/vux-loader/src/style-loader.js!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/BasicBusiness.vue\n// module id = gyFj\n// module chunks = 19"],"sourceRoot":""}